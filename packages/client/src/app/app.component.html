<div class="flex h-screen overflow-hidden">
  <aside class="w-80 grow-0 bg-gray-50 text-white overflow-y-auto scrollbar px-2">
    <div class="flex justify-between items-center mb-2 border-b p-4">
      <div class="text-base text-gray-800 font-medium truncate">Book GPT</div>
      <i onclick="document.getElementById('fileInput').click()"
      class="material-icons-outlined text-gray-800 border-2 px-1 rounded-md border-gray-800 text-xl hover:bg-gray-200 cursor-pointer">
        edit
      </i>
    </div>

    <div *ngFor="let chat of chats; let i = index"
      (click)="onSelect(chat.id)"
      [ngClass]="{
        'bg-slate-100': selectedChatId === chat.id,
        'hover:bg-slate-100': selectedChatId !== chat.id
      }"
      class="p-2 px-4 text-gray-800 rounded-lg mb-2 cursor-pointer">
      <div class="text-sm font-medium truncate">{{ chat.name }}</div>
    </div>
  </aside>

  <main class="w-full">
    <mat-progress-bar *ngIf="isLoading" mode="indeterminate"></mat-progress-bar>
    <app-chat [id]="selectedChatId!"></app-chat>
  </main>
</div>

<input type="file" id="fileInput" accept=".epub" (change)="onFileSelected($event)" hidden/>